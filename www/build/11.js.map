{"version":3,"sources":["../../src/pages/lists/lists.ts","../../src/pages/lists/lists.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAA6D;AACA;AACa;AAIY;AAEvB;AAS/D;IAeE,mBAAmB,OAAsB,EAAS,SAAoB,EAC7D,GAAqB,EAAS,YAA0B,EACxD,SAA0B,EAAS,GAAsB,EACzD,WAAwB;QAHjC,iBAcC;QAdkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC7D,QAAG,GAAH,GAAG,CAAkB;QAAS,iBAAY,GAAZ,YAAY,CAAc;QACxD,cAAS,GAAT,SAAS,CAAiB;QAAS,QAAG,GAAH,GAAG,CAAmB;QACzD,gBAAW,GAAX,WAAW,CAAa;QAhBjC,SAAI,GAAY,KAAK,CAAC;QAWtB,SAAI,GAAW,OAAO,CAAC;QAOrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAEtD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,OAAO,EAAE,aAAG,IAAI,UAAG,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,KAAI,CAAC,UAAU,CAAC,EAA9C,CAA8C,CAAC,CAAC;QAC1G,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QAEhD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,aAAG,IAAI,UAAG,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,KAAI,CAAC,UAAU,CAAC,EAA9C,CAA8C,CAAC,CAAC;QAC5G,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;IAEpD,CAAC;IAED,+BAAW,GAAX;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAC;YAC9B,SAAS,EAAE,IAAI,CAAC,UAAU;SAC3B,CAAC,CAAC;IACL,CAAC;IAED,kCAAc,GAAd,UAAe,QAAgB;QAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAC;YACjC,QAAQ,EAAE,IAAI,CAAC,UAAU;YACzB,OAAO,EAAE,QAAQ;SAClB,CAAC,CAAC;IACL,CAAC;IAED,gCAAY,GAAZ;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAC;YAC/B,SAAS,EAAE,IAAI,CAAC,UAAU;SAC3B,CAAC;IACJ,CAAC;IAED,gCAAY,GAAZ,UAAa,OAAe;QAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAC;YAC5B,MAAM,EAAE,OAAO;YACf,SAAS,EAAE,IAAI,CAAC,UAAU;SAC3B,CAAC,CAAC;IACL,CAAC;IAED,4BAAQ,GAAR;QACE,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QACvB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAC3B,CAAC;IAED,4BAAQ,GAAR,UAAS,MAAc;QAAvB,iBAuBC;QAtBC,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,KAAK,EAAE,QAAQ;YACf,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,eAAe;oBACrB,WAAW,EAAE,oBAAoB;oBACjC,IAAI,EAAE,MAAM;iBACb;aACF;YACD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,QAAQ;iBACf;gBACD;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,cAAI;wBACX,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,MAAM,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC;oBACvD,CAAC;iBACF;aAAC;SACL,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,8BAAU,GAAV,UAAW,MAAc,EAAE,QAAgB;QAA3C,iBAsCC;QApCC,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACtC,QAAQ,EAAE,iBAAiB;YAC3B,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC;QAEF,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,0CAA0C;YACjD,OAAO,EAAE,oEAAoE;YAC7E,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,WAAW;oBACjB,WAAW,EAAE,sCAAsC;iBACpD;aACF;YACD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE,UAAC,IAAI;wBAEZ,IAAG,IAAI,CAAC,SAAS,IAAI,QAAQ,EAAC;4BAC5B,KAAI,CAAC,WAAW,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;gCACvC,WAAW,CAAC,OAAO,EAAE,CAAC;4BACxB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,CAAC;gCACT,WAAW,CAAC,WAAW,CAAC,wBAAwB,CAAC,CAAC;gCAClD,WAAW,CAAC,OAAO,EAAE,CAAC;4BACxB,CAAC,CAAC;yBACH;oBACH,CAAC;iBACA;gBACL;oBACE,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,QAAQ;iBACf;aACA;SACF,CAAC;QACF,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,+BAAW,GAAX,UAAY,QAAgB;QAA5B,iBA6BC;QA3BC,IAAI,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACtC,QAAQ,EAAE,iBAAiB;YAC3B,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC;QAEF,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,0CAA0C;YACjD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,SAAS;oBACf,OAAO,EAAE,UAAC,IAAI;wBAEV,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;4BAC3C,WAAW,CAAC,OAAO,EAAE,CAAC;wBACxB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,CAAC;4BACT,WAAW,CAAC,WAAW,CAAC,wBAAwB,CAAC,CAAC;4BAClD,WAAW,CAAC,OAAO,EAAE,CAAC;wBACxB,CAAC,CAAC;oBACJ,CAAC;iBACF;gBACH;oBACA,IAAI,EAAE,UAAU;oBAChB,IAAI,EAAE,QAAQ;iBACb;aACF;SACF,CAAC;QACF,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,gCAAY,GAAZ,UAAa,QAAgB,EAAE,MAAe;QAC5C,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,QAAQ,EAAC,MAAM,CAAC,CAAC,IAAI,CAAC;YACxD,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC,KAAK,CAAC;YACP,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtB,CAAC,CAAC;IACJ,CAAC;IApKU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;oKAgB4B,CAA0C;YACxD,uEAAgB,yEAAmC;YAC7C,8EAA8C;YAC5C,MAAW;OAlBtB,SAAS,CAqKrB;IAAD,CAAC;AAAA;SArKY,SAAS,e;;;;;;;;;;;;;;;;;;;ACjBmB;AACO;AACZ;AAUpC;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAR3B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,yDAAS;aACV;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;aACpC;SACF,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH","file":"11.js","sourcesContent":["import { ListService } from './../../providers/list-service';\nimport { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\n\nimport { Observable } from 'rxjs/Rx';\n\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\n\nimport { GroupService } from './../../providers/group-service';\nimport { Profile } from '../../models/profile';\n\n\n@IonicPage({\n  name: 'ListsPage',\n  segment: 'listas'\n})\n@Component({\n  selector: 'page-lists',\n  templateUrl: 'lists.html',\n})\nexport class ListsPage {\n\n  edit: boolean = false;\n\n  id_project: string;\n  project_name: string;\n\n  listCollection: AngularFirestoreCollection<any[]>;\n  lists: Observable<any[]>;\n\n  groupCollection: AngularFirestoreCollection<any[]>;\n  groups: Observable<any[]>;\n\n  view: string = 'lists';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public afs: AngularFirestore, public groupService: GroupService,\n    public alertCtrl: AlertController, public cdr: ChangeDetectorRef,\n    public listService: ListService) {\n\n    this.id_project = this.navParams.get('idProject');\n    this.project_name = this.navParams.get('nameProject');\n\n    this.listCollection = this.afs.collection('lists', ref => ref.where('id_project', '==', this.id_project));\n    this.lists = this.listCollection.valueChanges();\n\n    this.groupCollection = this.afs.collection('groups', ref => ref.where('id_project', '==', this.id_project));\n    this.groups = this.groupCollection.valueChanges();\n\n  }\n\n  openAddList(): void{\n    this.navCtrl.push('AddListPage',{\n      idProject: this.id_project\n    });\n  }\n\n  openSearchUser(id_group: string): void{\n    this.navCtrl.push('SearchUserPage',{\n      idProjet: this.id_project,\n      idGroup: id_group\n    });\n  }\n\n  openAddGroup(): void{\n    this.navCtrl.push('AddGroupPage',{\n      idProject: this.id_project\n    })\n  }\n\n  openTaskPage(id_list: string): void{\n    this.navCtrl.push('TasksPage',{\n      idList: id_list,\n      idProject: this.id_project\n    });\n  }\n\n  showEdit(){\n    this.edit = !this.edit;\n    this.cdr.detectChanges();\n  }\n\n  editList(idList: string): void{\n    const alert = this.alertCtrl.create({\n      title: 'Editar',\n      inputs: [\n        {\n          name: 'new_name_list',\n          placeholder: 'Novo nome da lista',\n          type: 'text'\n        }\n      ],\n      buttons: [\n        {\n          text: \"Cancelar\",\n          role: \"cancel\"\n        },\n        {\n          text: \"Ok\",\n          handler: data =>{\n            this.listService.editList(idList,data.new_name_list);\n          }\n        }]\n    });\n    alert.present();\n  }\n\n  deleteList(idList: string, listName: string): void{\n\n    let alertDelete = this.alertCtrl.create({\n      subTitle: \"Lista deletada!\",\n      buttons: ['OK']\n    })\n\n    let alert = this.alertCtrl.create({\n      title: 'Tem certeza que quer excluir essa lista?',\n      message: 'Ao excluir, todos os dados armazenados até agora vão ser perdidos!',\n      inputs: [\n        {\n          name: 'list_name',\n          placeholder: 'Digite o nome da lista pra continuar'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Excluir',\n          handler: (data) => {\n\n            if(data.list_name == listName){\n              this.listService.deleteList(idList).then(()=>{\n                alertDelete.present();\n              }).catch((e)=>{\n                alertDelete.setSubTitle(\"Erro ao excluir lista!\");\n                alertDelete.present();\n              })\n            }\n          }\n          },\n      {\n        text: 'Cancelar',\n        role: 'cancel'\n      }\n      ]\n    })\n    alert.present();\n  }\n\n  deleteGroup(id_group: string): void{\n\n    let alertDelete = this.alertCtrl.create({\n      subTitle: \"Grupo deletado!\",\n      buttons: ['OK']\n    })\n\n    let alert = this.alertCtrl.create({\n      title: 'Tem certeza que quer excluir esse grupo?',\n      buttons: [\n        {\n          text: 'Excluir',\n          handler: (data) => {\n\n              this.groupService.deleteGroup(id_group).then(()=>{\n                alertDelete.present();\n              }).catch((e)=>{\n                alertDelete.setSubTitle(\"Erro ao excluir grupo!\");\n                alertDelete.present();\n              })\n            }\n          },\n        {\n        text: 'Cancelar',\n        role: 'cancel'\n        }\n      ]\n    })\n    alert.present();\n  }\n\n  deleteMember(id_group: string, member: Profile): void{\n    this.groupService.deleteMemberGroup(id_group,member).then(()=>{\n      console.log('Membro deletado!');\n    }).catch(()=>{\n      console.log('Erro');\n    })\n  }\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lists/lists.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ListsPage } from './lists';\n\n@NgModule({\n  declarations: [\n    ListsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListsPage),\n  ],\n})\nexport class ListsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lists/lists.module.ts"],"sourceRoot":""}