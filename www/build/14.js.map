{"version":3,"sources":["../../src/pages/add-project/add-project.ts","../../src/pages/add-project/add-project.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAA0D;AACS;AACzB;AACgC;AAEN;AAI/B;AACd;AAEK;AAQ5B;IAQE,wBAAmB,OAAsB,EAAS,SAAoB,EAC7D,WAAwB,EAAS,cAA8B,EAC/D,GAAqB,EAAS,SAA0B;QAF9C,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC7D,gBAAW,GAAX,WAAW,CAAa;QAAS,mBAAc,GAAd,cAAc,CAAgB;QAC/D,QAAG,GAAH,GAAG,CAAkB;QAAS,cAAS,GAAT,SAAS,CAAiB;QARjE,YAAO,GAAG,EAAa,CAAC;QAUpB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACxC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1D,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;SAClE,CAAC;IAEN,CAAC;IAED,mCAAU,GAAV,UAAW,OAAgB;QAA3B,iBA0BC;QAxBC,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAClC,OAAO,EAAE,6BAA6B;YACtC,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,KAAK;SAChB,CAAC,CAAC;QAEH,OAAO,CAAC,UAAU,GAAG,8CAAa,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC;QAErD,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YAE/C,KAAI,CAAC,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,KAAG,GAAG,CAAC,EAAI,CAAC,CAAC,MAAM,CAAC;gBACtD,UAAU,EAAE,GAAG,CAAC,EAAE;gBAClB,gBAAgB,EAAE,8CAAM,EAAE,CAAC,MAAM,CAAC,uBAAuB,CAAC;gBAC1D,IAAI,EAAE,CAAC;aACR,CAAC,CAAC;YACH,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,EAAE,CAAC;YACxB,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QAErB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAS,CAAC;YACjB,KAAK,CAAC,UAAU,CAAC,wBAAwB,CAAC,CAAC;YAC3C,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC,CAAC;IAEJ,CAAC;IAED,uCAAc,GAAd;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACtC,CAAC;;IAjDU,cAAc;QAL1B,wEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;WACG;SAChC,CAAC;uBAYiE;OAVtD,cAAc,CAmD1B;IAAD,CAAC;AAAA;SAnDY,cAAc,gB;;;;;;;;;;;;;;;;;;;ACpBc;AACO;AACD;AAU/C;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QARhC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAc;aACf;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,oEAAc,CAAC;aACzC;SACF,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH","file":"14.js","sourcesContent":["import { AngularFirestore } from 'angularfire2/firestore';\nimport { ProjectService } from './../../providers/project-service';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\n\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\nimport { Project } from './../../models/project';\n\nimport * as firebase from 'firebase';\nimport 'firebase/auth';\n\nimport moment from \"moment\";\n\n@IonicPage({\n  name: 'AddProjectPage',\n  segment: 'novo-projeto'\n})\n@Component({\n  selector: 'page-add-project',\n  templateUrl: 'add-project.html',\n})\n\nexport class AddProjectPage {\n\n  project = {} as Project;\n\n  idProject: string;\n\n  projectForm: FormGroup;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public formBuilder: FormBuilder, public projectService: ProjectService,\n    public afs: AngularFirestore, public toastCtrl: ToastController) {\n\n      this.projectForm = this.formBuilder.group({\n        name: ['', [Validators.required, Validators.minLength(3)]],\n        description: ['', [Validators.required, Validators.minLength(3)]]\n      })\n\n  }\n\n  addProject(project: Project): void{\n\n    const toast = this.toastCtrl.create({\n      message: 'Projeto criado com sucesso!',\n      duration: 3000,\n      position: 'top'\n    });\n\n    project.user_admin = firebase.auth().currentUser.uid;\n\n    this.projectService.newProject(project).then((doc)=>{\n\n      this.afs.collection('projects').doc(`${doc.id}`).update({\n        id_project: doc.id,\n        date_hour_create: moment().format('DD/MM/YYYY, h:mm:ss a'),\n        star: 0\n      });\n      this.idProject = doc.id;\n      toast.present();\n      this.navCtrl.pop();\n\n    }).catch(function(e){\n      toast.setMessage(\"Erro ao criar projeto!\");\n      toast.present();\n    })\n\n  }\n\n  openSearchUser(){\n    this.navCtrl.push('SearchUserPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-project/add-project.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddProjectPage } from './add-project';\n\n@NgModule({\n  declarations: [\n    AddProjectPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddProjectPage),\n  ],\n})\nexport class AddProjectPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-project/add-project.module.ts"],"sourceRoot":""}