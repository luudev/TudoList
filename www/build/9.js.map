{"version":3,"sources":["../../src/pages/my-projects/my-projects.ts","../../src/pages/my-projects/my-projects.module.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { Component, ChangeDetectorRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs/Rx';\nimport { ProjectService } from '../../providers/project-service';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\n\n@IonicPage({\n  name: 'MyProjectsPage',\n  segment: 'meus-projetos'\n})\n@Component({\n  selector: 'page-my-projects',\n  templateUrl: 'my-projects.html',\n})\nexport class MyProjectsPage {\n  \n  edit: boolean =  false;\n  \n  projectCollection: AngularFirestoreCollection<any[]>;\n  projects: Observable<any[]>;\n  \n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public cdr: ChangeDetectorRef, public afs: AngularFirestore,\n    public projectService: ProjectService, public alertCtrl: AlertController) {\n      \n      const unsubscribe = firebase.auth().onAuthStateChanged(user=>{\n        if(user){\n          this.projectCollection = this.afs.collection(`projects`,ref => ref.where('user_admin', '==', user.uid));\n          this.projects = this.projectCollection.valueChanges();\n          this.cdr.detectChanges();\n          unsubscribe();\n        }\n      });\n    }\n    \n    viewEdit(): void{\n      this.edit = !this.edit;\n      this.cdr.detectChanges();\n    }\n    \n    openListPage(id_project: string, project_name: string): void{\n      this.navCtrl.push('ListsPage',{\n        idProject: id_project,\n        nameProject: project_name\n      });\n    }\n    \n    editProject(id_project: string): void{\n      const alert = this.alertCtrl.create({\n        title: 'Editar',\n        inputs: [\n          {\n            name: 'new_project_name',\n            placeholder: 'Novo nome do projeto',\n            type: 'text'\n          },\n          {\n            name: 'new_description_project',\n            placeholder: 'Nova descrição',\n            type: 'text'\n          }\n        ],\n        buttons: [\n          {\n            text: \"Cancelar\",\n            role: \"cancel\"\n          },\n          {\n            text: \"Ok\",\n            handler: data =>{\n              this.projectService.editProject(id_project,data.new_project_name, data.new_description_project);\n            }\n          }]\n        });\n        alert.present();\n      }\n      \n      deleteProject(id_project: string, project_name: string): void{\n        \n        let alertDelete = this.alertCtrl.create({\n          subTitle: \"Projeto deletado!\",\n          buttons: ['OK']\n        })\n        \n        let alert = this.alertCtrl.create({\n          title: 'Tem certeza que quer excluir esse projeto?',\n          message: 'Ao excluir, todos os dados armazenados até agora vão ser perdidos!',\n          inputs: [\n            {\n              name: 'project_name',\n              placeholder: 'Digite o nome do projeto pra continuar'\n            },\n          ],\n          buttons: [\n            {\n              text: 'Excluir',\n              handler: (data) => {\n                \n                if(data.project_name == project_name){\n                  this.projectService.deleteProject(id_project).then(()=>{\n                    alertDelete.present();\n                  }).catch((e)=>{\n                    alertDelete.setSubTitle(\"Erro ao excluir o projeto!\");\n                    alertDelete.present();\n                  })\n                }else{\n                  alertDelete.setSubTitle(\"O texto digitado não corresponde ao nome do projeto!\");\n                  alertDelete.present();\n                }\n              },\n            },\n            {\n              text: 'Cancelar',\n              role: 'cancel'\n            }\n          ]\n        })\n        alert.present();\n      }\n      \n      \n      \n    }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-projects/my-projects.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyProjectsPage } from './my-projects';\n\n@NgModule({\n  declarations: [\n    MyProjectsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyProjectsPage),\n  ],\n})\nexport class MyProjectsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-projects/my-projects.module.ts"],"sourceRoot":""}