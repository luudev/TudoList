{"version":3,"sources":["../../src/pages/details-task/details-task.ts","../../src/pages/details-task/details-task.module.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\n\nimport { Observable } from 'rxjs/Rx';\n\nimport { AngularFirestoreCollection, AngularFirestore } from 'angularfire2/firestore';\n\nimport { TaskService } from '../../providers/task-service';\n\nimport { Calendar } from '@ionic-native/calendar/ngx';\n\nimport moment from \"moment\";\n\n@IonicPage({\n  name: 'DetailsTaskPage',\n  segment: 'detalhes-tarefa'\n})\n@Component({\n  selector: 'page-details-task',\n  templateUrl: 'details-task.html',\n})\nexport class DetailsTaskPage {\n\n  id_task: string;\n  id_project: string;\n\n  color_priority: string;\n\n  taskColletion: AngularFirestoreCollection<any[]>;\n  taskDoc: Observable<any[]>;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public afs: AngularFirestore, public taskService: TaskService,\n    public alertCtrl: AlertController, public calendar: Calendar) {\n\n      this.id_task = this.navParams.get('idTask');\n      this.id_project = this.navParams.get('idProject');\n\n      this.taskColletion = this.afs.collection('tasks', ref => ref.where('id_task','==',this.id_task));\n      this.taskDoc = this.taskColletion.valueChanges();\n\n    }\n\n    addPriority(id_task: string): void{\n\n      let alert = this.alertCtrl.create();\n      alert.setTitle('Prioridade da tarefa');\n\n      alert.addInput({\n        type: 'radio',\n        label: 'Alta',\n        value: '1',\n        checked: true\n      });\n\n      alert.addInput({\n        type: 'radio',\n        label: 'Média',\n        value: '2',\n        checked: false\n      });\n\n      alert.addInput({\n        type: 'radio',\n        label: 'Baixa',\n        value: '3',\n        checked: false\n      });\n\n      alert.addButton('Cancelar');\n      alert.addButton({\n        text: 'OK',\n        handler: data => {\n\n          if(data==1){\n            this.color_priority = '#FF4500';\n          }if(data==2){\n            this.color_priority = '#FF8C00';\n          }if(data==3){\n            this.color_priority = '#FFD700';\n          }\n\n          this.taskService.addPriorityTask(id_task,data,this.color_priority);\n\n        }\n      });\n      alert.present();\n    }\n\n    addReminder(id_task: string): void{\n\n      let options = { calendarName: 'TudoList', firstReminderMinutes: 15 };\n\n      let alertReminder = this.alertCtrl.create({\n        subTitle: \"Lembrete criado com sucesso!\",\n        buttons: ['OK']\n      });\n\n      const alert = this.alertCtrl.create({\n        title: 'Lembrete',\n        inputs: [\n          {\n            name: 'name',\n            placeholder: 'Nome*',\n            type: 'text'\n          },\n          {\n            name: 'description',\n            placeholder: 'Descrição(opcional)',\n            type: 'text'\n          },\n          {\n            name: 'local',\n            placeholder: 'Local(opcional)',\n            type: 'text'\n          },\n          {\n            name: 'initial_date',\n            placeholder: 'Data inicial*',\n            type: 'date'\n          },\n          {\n            name: 'final_date',\n            placeholder: 'Data final*',\n            type: 'date'\n          },\n        ],\n        buttons: [\n          {\n            text: 'Cancelar',\n            role: 'cancel'\n          },\n          {\n            text: 'Ok',\n            handler: data => {\n\n              this.calendar.createEventInteractivelyWithOptions(data.name,data.local,data.description,moment(data.inicial_date).toDate(),moment(data.final_date).toDate(),options).\n              then(()=>{\n                this.taskService.addReminder(id_task,data.name,data.local,data.description,data.initial_date,data.final_date);\n                alertReminder.present();\n              }).catch((e)=>{\n                alertReminder.setSubTitle(\"Erro ao criar o lembrete! Tente novamente...\");\n                alertReminder.setMessage(e);\n                alertReminder.present();\n              })\n            }\n          }\n        ]\n      });\n      alert.present();\n    }\n\n    openSubtask(id_task: string, subtask: number): void{\n      this.navCtrl.push('SubtasksPage',{\n        idTask: id_task,\n        subtask: subtask\n      })\n    }\n\n    addCollaborator(id_task: string): void{\n      this.navCtrl.push('SearchUserCollaboratorPage',{\n        idTask: id_task,\n        idProject: this.id_project\n      });\n    }\n\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/details-task/details-task.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DetailsTaskPage } from './details-task';\n\n@NgModule({\n  declarations: [\n    DetailsTaskPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DetailsTaskPage),\n  ],\n})\nexport class DetailsTaskPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/details-task/details-task.module.ts"],"sourceRoot":""}